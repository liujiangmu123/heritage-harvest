import{r as s,j as e,C as t,E as a,p as r,F as o,d as n,O as i,e as h,H as l,u as c,D as d}from"./three-vendor-BoyHWg1a.js";function m(){const{progress:s}=h();return e.jsx(l,{center:!0,children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-heritage-500 border-t-transparent rounded-full animate-spin"}),e.jsxs("p",{className:"text-heritage-600 font-medium",children:[s.toFixed(0),"%"]})]})})}function x({color:t="#8B7355"}){const a=s.useRef(null);return c(s=>{a.current&&(a.current.rotation.y=.1*Math.sin(.3*s.clock.elapsedTime))}),e.jsxs("group",{ref:a,children:[e.jsxs("mesh",{position:[0,.5,0],castShadow:!0,children:[e.jsx("cylinderGeometry",{args:[.8,.6,1,32,1,!0]}),e.jsx("meshStandardMaterial",{color:t,side:d,roughness:.8,metalness:.1})]}),e.jsxs("mesh",{position:[0,0,0],rotation:[-Math.PI/2,0,0],castShadow:!0,children:[e.jsx("circleGeometry",{args:[.6,32]}),e.jsx("meshStandardMaterial",{color:t,roughness:.9})]}),Array.from({length:12}).map((s,t)=>e.jsxs("mesh",{position:[.71*Math.cos(t/12*Math.PI*2),.5,.71*Math.sin(t/12*Math.PI*2)],rotation:[0,-t/12*Math.PI*2,0],children:[e.jsx("boxGeometry",{args:[.05,1,.02]}),e.jsx("meshStandardMaterial",{color:"#5D4E37",roughness:.7})]},t)),e.jsxs("mesh",{position:[0,1.3,0],castShadow:!0,children:[e.jsx("torusGeometry",{args:[.4,.05,8,32,Math.PI]}),e.jsx("meshStandardMaterial",{color:"#5D4E37",roughness:.6})]})]})}function u({color:t="#8B4513"}){const a=s.useRef(null);return c(()=>{a.current&&(a.current.rotation.y+=.005)}),e.jsxs("group",{ref:a,children:[e.jsxs("mesh",{position:[0,.4,0],castShadow:!0,children:[e.jsx("sphereGeometry",{args:[.5,32,32]}),e.jsx("meshStandardMaterial",{color:t,roughness:.3,metalness:.1})]}),e.jsxs("mesh",{position:[.6,.5,0],rotation:[0,0,-Math.PI/4],castShadow:!0,children:[e.jsx("cylinderGeometry",{args:[.08,.05,.4,16]}),e.jsx("meshStandardMaterial",{color:t,roughness:.3})]}),e.jsxs("mesh",{position:[-.55,.5,0],rotation:[0,Math.PI/2,0],castShadow:!0,children:[e.jsx("torusGeometry",{args:[.2,.04,8,32,Math.PI]}),e.jsx("meshStandardMaterial",{color:t,roughness:.3})]}),e.jsxs("mesh",{position:[0,.85,0],castShadow:!0,children:[e.jsx("sphereGeometry",{args:[.25,32,16,0,2*Math.PI,0,Math.PI/2]}),e.jsx("meshStandardMaterial",{color:t,roughness:.3})]}),e.jsxs("mesh",{position:[0,1,0],castShadow:!0,children:[e.jsx("sphereGeometry",{args:[.06,16,16]}),e.jsx("meshStandardMaterial",{color:t,roughness:.3})]}),e.jsxs("mesh",{position:[0,0,0],castShadow:!0,children:[e.jsx("cylinderGeometry",{args:[.25,.3,.1,32]}),e.jsx("meshStandardMaterial",{color:t,roughness:.3})]})]})}function j({color:t="#1e3a5f"}){const a=s.useRef(null);return c(s=>{if(a.current){const e=a.current.geometry.attributes.position;for(let t=0;t<e.count;t++){const a=e.getX(t),r=e.getY(t),o=.1*Math.sin(2*a+s.clock.elapsedTime),n=.05*Math.sin(3*r+1.5*s.clock.elapsedTime);e.setZ(t,o+n)}e.needsUpdate=!0}}),e.jsxs("mesh",{ref:a,rotation:[-Math.PI/4,0,0],position:[0,.5,0],castShadow:!0,children:[e.jsx("planeGeometry",{args:[2,1.5,32,32]}),e.jsx("meshStandardMaterial",{color:t,side:d,roughness:.6,metalness:.1})]})}function p({productType:h="teapot",backgroundColor:l="#fdf8f3",showControls:c=!0,autoRotate:d=!0,className:p=""}){const[,g]=s.useState(!0);return e.jsx("div",{className:`w-full h-full ${p}`,style:{background:l},children:e.jsx(t,{shadows:!0,camera:{position:[3,2,3],fov:45},onCreated:()=>g(!1),children:e.jsxs(s.Suspense,{fallback:e.jsx(m,{}),children:[e.jsx("ambientLight",{intensity:.5}),e.jsx("spotLight",{position:[10,10,10],angle:.15,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":2048}),e.jsx("pointLight",{position:[-10,-10,-10],intensity:.5}),e.jsx(a,{preset:"city"}),e.jsx(r,{global:!0,config:{mass:2,tension:500},snap:{mass:4,tension:300},rotation:[0,0,0],polar:[-Math.PI/3,Math.PI/3],azimuth:[-Math.PI/1.4,Math.PI/2],children:e.jsx(o,{speed:1.5,rotationIntensity:.5,floatIntensity:.5,children:(()=>{switch(h){case"bamboo":return e.jsx(x,{});case"scarf":return e.jsx(j,{});default:return e.jsx(u,{})}})()})}),e.jsx(n,{position:[0,-.5,0],opacity:.4,scale:5,blur:2.5,far:4}),c&&e.jsx(i,{autoRotate:d,autoRotateSpeed:2,enablePan:!1,enableZoom:!0,minPolarAngle:Math.PI/6,maxPolarAngle:Math.PI/2,minDistance:2,maxDistance:6})]})})})}export{p as default};
