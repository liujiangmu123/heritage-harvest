import{r as e,j as s}from"./three-vendor-BoyHWg1a.js";import{C as t,a}from"./Card-CzLHjEZJ.js";import{B as i}from"./Badge-CFxPFb1t.js";import{u as c}from"./index-D20SIRsj.js";import{m as l,E as r,d as o,L as n,T as d,N as m,r as h,A as x,X as p,aN as j}from"./ui-vendor-BCOa7pYq.js";import"./core-vendor-Csnc5NqJ.js";const f=[{id:"1",year:"公元前2000年",era:"新石器时代",title:"哈尼梯田的起源",description:'哈尼族先民开始在哀牢山区开垦梯田，创造了"森林-村寨-梯田-水系"四素同构的生态系统。',ecoWisdom:"顺应自然地形，利用重力实现水资源的自然循环，零能耗灌溉系统。",heritage:"哈尼梯田",heritageLink:"/experience/hani-terrace",icon:"water",image:"https://images.unsplash.com/photo-1528164344705-47542687000d?w=800",details:["森林涵养水源，年均降水量1400mm","村寨位于半山腰，便于管理梯田","梯田层层叠叠，最多可达3000级","水系自上而下流动，实现自然灌溉"]},{id:"2",year:"公元前500年",era:"春秋战国",title:"竹编技艺的诞生",description:"四川青神地区的先民开始利用当地丰富的竹资源，发展出精湛的竹编技艺。",ecoWisdom:"竹子3-5年即可成材，是最可持续的天然材料之一，可完全生物降解。",heritage:"青神竹编",heritageLink:"/experience/bamboo-weaving",icon:"forest",image:"https://images.unsplash.com/photo-1595513046791-c87a6f0c3947?w=800",details:["竹子生长速度快，每天可长30-100cm","竹林是天然的碳汇，固碳能力是普通森林的1.5倍","竹制品可替代塑料，减少白色污染","竹编技艺传承3000年，至今仍在使用"]},{id:"3",year:"公元200年",era:"东汉时期",title:"天然染料的发现",description:"苗族先民发现板蓝根可提取靛蓝染料，开创了蜡染艺术的先河。",ecoWisdom:"天然植物染料零污染，染色废水可直接灌溉农田，实现循环利用。",heritage:"苗族蜡染",heritageLink:"/experience/batik",icon:"craft",image:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800",details:["板蓝根既是染料原料，也是中药材","天然染色节省90%的水资源","染料可完全生物降解，零化学残留","蜡染图案承载着苗族的生态信仰"]},{id:"4",year:"公元700年",era:"唐朝",title:"茶园生态系统",description:"安溪茶农发展出独特的茶园生态种植模式，茶树与其他植物共生。",ecoWisdom:"生态茶园不使用农药化肥，依靠生物多样性实现自然害虫控制。",heritage:"铁观音制茶",heritageLink:"/experience/tea-ceremony",icon:"agriculture",image:"https://images.unsplash.com/photo-1564890369478-c89ca6d9cde9?w=800",details:["茶园与森林交错，形成天然屏障","每亩茶园年吸收1.5吨二氧化碳","生态茶园是鸟类和昆虫的栖息地","传统制茶工艺零碳排放"]},{id:"5",year:"公元1000年",era:"宋朝",title:"泥塑的天然材料",description:"凤翔泥塑使用当地特有的黄土泥料，不添加任何化学物质。",ecoWisdom:'取材于自然，回归于自然。泥塑作品可完全降解，实现"从土地来，回土地去"。',heritage:"凤翔泥塑",heritageLink:"/experience/fengxiang-clay",icon:"craft",image:"https://images.unsplash.com/photo-1565193566173-7a0ee3dbe261?w=800",details:["黄土泥料100%天然，零化学添加","泥塑制作过程零碳排放","作品可完全生物降解","传承千年的环保艺术形式"]},{id:"6",year:"公元1300年",era:"元朝",title:"皮影的循环经济",description:'皮影戏使用动物皮革制作，体现了"物尽其用"的传统智慧。',ecoWisdom:"利用畜牧业副产品，减少浪费。传统皮影可使用100年以上，是真正的可持续艺术。",heritage:"皮影戏",heritageLink:"/experience/shadow-puppet",icon:"craft",image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800",details:["皮革来自畜牧业副产品，减少浪费","传统鞣制使用植物提取物，无化学污染","一件皮影可传承使用100年以上",'体现了古人"物尽其用"的生态智慧']}],g={water:m,forest:d,agriculture:n,craft:o};function u({className:o="",onComplete:d}){const[m,u]=e.useState(null),[b,N]=e.useState(new Set),{addPoints:w}=c(),v=()=>{u(null),b.size===f.length&&d&&d()},y=b.size/f.length*100;return s.jsxs("div",{className:`${o}`,children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-ink-600",children:"探索进度"}),s.jsxs("span",{className:"text-sm font-medium text-eco-600",children:[b.size,"/",f.length," 已探索"]})]}),s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx(l.div,{initial:{width:0},animate:{width:`${y}%`},className:"h-full bg-gradient-to-r from-eco-500 to-bamboo-500"})}),b.size===f.length&&s.jsxs(l.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-2 flex items-center gap-2 text-eco-600",children:[s.jsx(r,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:'恭喜！你已解锁"生态历史学家"徽章'})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-0.5 bg-gradient-to-b from-eco-300 via-eco-500 to-eco-300 transform -translate-x-1/2"}),s.jsx("div",{className:"space-y-12",children:f.map((e,c)=>{const r=g[e.icon],o=b.has(e.id),d=c%2==0;return s.jsxs(l.div,{initial:{opacity:0,x:d?-50:50},animate:{opacity:1,x:0},transition:{delay:.1*c},className:"relative flex items-center "+(d?"flex-row":"flex-row-reverse"),children:[s.jsx("div",{className:"w-5/12 "+(d?"pr-8 text-right":"pl-8 text-left"),children:s.jsx(t,{className:"cursor-pointer transition-all hover:shadow-lg "+(o?"border-eco-300 bg-eco-50/50":"hover:border-eco-200"),onClick:()=>(e=>{u(e),b.has(e.id)||(N(s=>new Set([...s,e.id])),w({type:"learn",points:10,description:`学习了"${e.title}"的生态智慧`}))})(e),children:s.jsxs(a,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 "+(d?"justify-end":"justify-start"),children:[s.jsx(i,{variant:"eco",className:"text-xs",children:e.era}),o&&s.jsx(n,{className:"w-4 h-4 text-eco-500"})]}),s.jsx("h3",{className:"font-bold text-ink-900 mb-1",children:e.title}),s.jsx("p",{className:"text-sm text-ink-500 line-clamp-2",children:e.description}),s.jsxs("div",{className:"flex items-center gap-1 mt-2 text-eco-600 text-sm "+(d?"justify-end":"justify-start"),children:[s.jsx("span",{children:"了解更多"}),s.jsx(h,{className:"w-4 h-4"})]})]})})}),s.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 z-10",children:s.jsx(l.div,{whileHover:{scale:1.1},className:"w-12 h-12 rounded-full flex items-center justify-center shadow-lg "+(o?"bg-gradient-to-br from-eco-500 to-bamboo-500 text-white":"bg-white border-2 border-eco-300 text-eco-600"),children:s.jsx(r,{className:"w-5 h-5"})})}),s.jsx("div",{className:"w-5/12 "+(d?"pl-8":"pr-8 text-right"),children:s.jsx("span",{className:"text-lg font-bold text-eco-600",children:e.year})})]},e.id)})})]}),s.jsx(x,{children:m&&s.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:v,children:s.jsxs(l.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[s.jsxs("div",{className:"relative h-48 overflow-hidden rounded-t-2xl",children:[s.jsx("img",{src:m.image,alt:m.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsx("button",{onClick:v,className:"absolute top-4 right-4 w-8 h-8 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30",children:s.jsx(p,{className:"w-5 h-5"})}),s.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[s.jsxs(i,{variant:"eco",className:"mb-2",children:[m.era," · ",m.year]}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:m.title})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-ink-600 mb-6",children:m.description}),s.jsxs("div",{className:"bg-eco-50 rounded-xl p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(n,{className:"w-5 h-5 text-eco-600"}),s.jsx("span",{className:"font-medium text-eco-800",children:"生态智慧"})]}),s.jsx("p",{className:"text-eco-700",children:m.ecoWisdom})]}),s.jsx("h3",{className:"font-bold text-ink-900 mb-3",children:"深入了解"}),s.jsx("ul",{className:"space-y-2 mb-6",children:m.details.map((e,t)=>s.jsxs("li",{className:"flex items-start gap-2 text-ink-600",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-eco-500 rounded-full mt-2 flex-shrink-0"}),e]},t))}),m.heritageLink&&s.jsxs("a",{href:m.heritageLink,className:"flex items-center justify-between p-4 bg-gradient-to-r from-eco-50 to-bamboo-50 rounded-xl hover:shadow-md transition-shadow",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-ink-500",children:"关联体验"}),s.jsx("div",{className:"font-medium text-ink-900",children:m.heritage})]}),s.jsx(j,{className:"w-5 h-5 text-eco-600"})]})]})]})})})]})}export{u as default};
