import{r as e,j as s}from"./three-vendor-BoyHWg1a.js";import{S as a}from"./ShareCardGenerator-bTrLm97O.js";import{u as t,a as i,C as l,B as c}from"./index-BZ3c0gis.js";import{u as r}from"./ecoAchievementStore-BMIFv13n.js";import{aE as n,O as x,N as d,n as o,L as m,T as h,g as p,P as j,aB as g,A as b,m as N,ao as u,X as f,E as v,u as w,aF as y,r as k}from"./ui-vendor-BCOa7pYq.js";import"./core-vendor-Csnc5NqJ.js";const S={natural:{waterUsage:30,toxicity:0,biodegradable:100,carbonFootprint:2.5,skinSafe:!0},chemical:{waterUsage:150,toxicity:85,biodegradable:15,carbonFootprint:12.8,skinSafe:!1},plants:[{id:"indigo",name:"è“è‰ï¼ˆé›è“ï¼‰",color:"#1e3a5f",icon:"ğŸŒ¿",description:"ä¼ ç»Ÿè“æŸ“åŸæ–™ï¼Œç§æ¤3-4ä¸ªæœˆå¯æ”¶è·"},{id:"madder",name:"èŒœè‰ï¼ˆçº¢è‰²ï¼‰",color:"#8b2942",icon:"ğŸŒº",description:"æ ¹éƒ¨æå–çº¢è‰²æŸ“æ–™ï¼Œéœ€ç”Ÿé•¿2-3å¹´"},{id:"turmeric",name:"å§œé»„ï¼ˆé»„è‰²ï¼‰",color:"#d4a017",icon:"ğŸŒ¾",description:"æ ¹èŒæå–ï¼Œä¸€å¹´ç”Ÿæ¤ç‰©"},{id:"pomegranate",name:"çŸ³æ¦´çš®ï¼ˆæ£•è‰²ï¼‰",color:"#5d4037",icon:"ğŸ",description:"æœçš®æå–ï¼ŒåºŸç‰©åˆ©ç”¨"}],process:[{stage:"ç§æ¤",duration:"3-6ä¸ªæœˆ",description:"æœ‰æœºç§æ¤æŸ“æ–™æ¤ç‰©ï¼Œä¸ä½¿ç”¨å†œè¯"},{stage:"æ”¶è·",duration:"é€‚æ—¶é‡‡æ‘˜",description:"æ‰‹å·¥é‡‡æ‘˜ï¼Œä¿æŠ¤æ¤æ ªå¯æŒç»­ç”Ÿé•¿"},{stage:"å‘é…µ",duration:"7-14å¤©",description:"è‡ªç„¶å‘é…µæå–è‰²ç´ ï¼Œæ— åŒ–å­¦æ·»åŠ "},{stage:"æŸ“è‰²",duration:"æ•°å°æ—¶",description:"ä¼ ç»Ÿæµ¸æŸ“å·¥è‰ºï¼Œå¯é‡å¤ä½¿ç”¨æŸ“æ¶²"}],carbonSaving:l.batik.baseSaving,ecoFacts:{waterSaved:120}};function C({plant:e,isActive:a,onClick:t}){return s.jsxs(N.div,{whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},onClick:t,className:"relative p-4 rounded-xl cursor-pointer transition-all overflow-hidden "+(a?"ring-2 ring-heritage-500 shadow-lg":"hover:shadow-md"),style:{backgroundColor:`${e.color}15`},children:[s.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundColor:e.color}}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-4xl mb-2",children:e.icon}),s.jsx("h4",{className:"font-bold text-ink-800",children:e.name}),s.jsx("div",{className:"w-8 h-2 rounded-full mt-2",style:{backgroundColor:e.color}}),a&&s.jsx(N.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"text-sm mt-3 text-ink-600",children:e.description})]})]})}function A({label:e,natural:a,chemical:t,unit:i="",icon:l,lowerIsBetter:c=!1}){const r="boolean"==typeof a?a?"âœ“":"âœ—":a,n="boolean"==typeof t?t?"âœ“":"âœ—":t,x=c?"number"==typeof a?a<t:a:"number"==typeof a?a>t:a;return s.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white/60 rounded-xl",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-heritage-100 flex items-center justify-center flex-shrink-0",children:l}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-ink-600",children:e}),s.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[s.jsxs("span",{className:"font-bold "+(x?"text-eco-600":"text-ink-700"),children:["å¤©ç„¶: ",r,i]}),s.jsxs("span",{className:"font-bold "+(x?"text-ink-500":"text-red-500"),children:["åŒ–å­¦: ",n,i]})]})]}),x&&s.jsx("div",{className:"px-2 py-1 bg-eco-100 rounded-full",children:s.jsx("span",{className:"text-xs text-eco-700 font-medium",children:"æ›´ç¯ä¿"})})]})}function F({step:e,index:a,isActive:t,onClick:i}){const l=[n,m,y,j][a]||m,c=["bg-eco-500","bg-bamboo-500","bg-heritage-500","bg-primary-500"];return s.jsxs(N.div,{whileHover:{scale:1.02},onClick:i,className:"relative p-4 rounded-xl cursor-pointer transition-all "+(t?`${c[a]} text-white shadow-lg`:"bg-white/70 hover:bg-white"),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(t?"bg-white/20":c[a].replace("bg-","bg-")+"/20"),children:s.jsx(l,{className:`w-5 h-5 ${t?"text-white":c[a].replace("bg-","text-")}`})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold "+(t?"text-white":"text-ink-800"),children:e.stage}),s.jsx("p",{className:"text-xs "+(t?"text-white/80":"text-ink-500"),children:e.duration})]})]}),t&&s.jsx(N.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-3 text-sm text-white/90",children:e.description}),a<3&&s.jsx(k,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-5 h-5 "+(t?"text-white/50":"text-ink-300")})]})}function I(){const[y,k]=e.useState(null),[I,B]=e.useState(0),[E,P]=e.useState(0),[U,z]=e.useState(!1),[L,$]=e.useState(!1),[G,H]=e.useState(!1),[O,T]=e.useState(!0),{addPoints:M}=t(),{addCarbonSaving:_}=i(),{recordExperienceComplete:q}=r();e.useEffect(()=>{const e=setInterval(()=>{P(e=>e+1)},1e3);return()=>clearInterval(e)},[]),e.useEffect(()=>{E>=60&&!U&&D()},[E,U]);const D=e.useCallback(()=>{U||(z(!0),$(!0),M({type:"experience",points:50,description:"å®Œæˆèœ¡æŸ“å¤©ç„¶æŸ“æ–™ä½“éªŒ"}),_({type:"digital_experience",carbonSaved:S.carbonSaving,description:l.batik.description,experienceId:"batik"}),q("batik"))},[U,M,_,q]);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-heritage-50 via-primary-50 to-eco-50",children:[s.jsx("div",{className:"bg-gradient-to-r from-heritage-600 to-primary-600 text-white py-8 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"ğŸ¨ èœ¡æŸ“å¤©ç„¶æŸ“æ–™ä½“éªŒ"}),s.jsx("p",{className:"text-heritage-100",children:"æ¢ç´¢å¤©ç„¶æ¤ç‰©æŸ“æ–™çš„å¥¥ç§˜ï¼Œæ„Ÿå—ä¼ ç»Ÿå·¥è‰ºçš„ç”Ÿæ€æ™ºæ…§"})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 space-y-8",children:[s.jsxs("section",{className:"bg-white/80 backdrop-blur rounded-2xl p-6 shadow-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(n,{className:"w-6 h-6 text-heritage-600"}),s.jsx("h2",{className:"text-xl font-bold text-ink-800",children:"æŸ“æ–™èŠ±å›­"})]}),s.jsx("p",{className:"text-ink-600 mb-6",children:"å¤©ç„¶æŸ“æ–™æ¥è‡ªå¤§è‡ªç„¶çš„é¦ˆèµ ï¼Œæ¯ç§æ¤ç‰©éƒ½æœ‰ç‹¬ç‰¹çš„è‰²å½©"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:S.plants.map(e=>s.jsx(C,{plant:e,isActive:y===e.id,onClick:()=>k(y===e.id?null:e.id)},e.id))})]}),s.jsxs("section",{className:"bg-white/80 backdrop-blur rounded-2xl p-6 shadow-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(x,{className:"w-6 h-6 text-eco-600"}),s.jsx("h2",{className:"text-xl font-bold text-ink-800",children:"å¤©ç„¶æŸ“æ–™ vs åŒ–å­¦æŸ“æ–™"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(A,{label:"ç”¨æ°´é‡ï¼ˆå‡/kgå¸ƒæ–™ï¼‰",natural:S.natural.waterUsage,chemical:S.chemical.waterUsage,unit:"L",icon:s.jsx(d,{className:"w-5 h-5 text-heritage-600"}),lowerIsBetter:!0}),s.jsx(A,{label:"æ¯’æ€§æŒ‡æ•°",natural:S.natural.toxicity,chemical:S.chemical.toxicity,icon:s.jsx(o,{className:"w-5 h-5 text-heritage-600"}),lowerIsBetter:!0}),s.jsx(A,{label:"å¯ç”Ÿç‰©é™è§£",natural:S.natural.biodegradable,chemical:S.chemical.biodegradable,unit:"%",icon:s.jsx(m,{className:"w-5 h-5 text-heritage-600"})}),s.jsx(A,{label:"ç¢³è¶³è¿¹ï¼ˆkg COâ‚‚/kgæŸ“æ–™ï¼‰",natural:S.natural.carbonFootprint,chemical:S.chemical.carbonFootprint,unit:"kg",icon:s.jsx(h,{className:"w-5 h-5 text-heritage-600"}),lowerIsBetter:!0}),s.jsx(A,{label:"çš®è‚¤å®‰å…¨",natural:S.natural.skinSafe,chemical:S.chemical.skinSafe,icon:s.jsx(p,{className:"w-5 h-5 text-heritage-600"})})]})]}),s.jsxs("section",{className:"bg-white/80 backdrop-blur rounded-2xl p-6 shadow-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(j,{className:"w-6 h-6 text-primary-600"}),s.jsx("h2",{className:"text-xl font-bold text-ink-800",children:"å¤©ç„¶æŸ“è‰²è¿‡ç¨‹"})]}),s.jsx("p",{className:"text-ink-600 mb-6",children:"ä»ç§æ¤åˆ°æŸ“è‰²ï¼Œæ¯ä¸€æ­¥éƒ½éµå¾ªè‡ªç„¶è§„å¾‹"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:S.process.map((e,a)=>s.jsx(F,{step:e,index:a,isActive:I===a,onClick:()=>B(a)},e.stage))})]}),s.jsxs("section",{className:"bg-gradient-to-r from-heritage-500 to-primary-500 rounded-2xl p-6 text-white",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(g,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-xl font-bold",children:"ç¯ä¿è´¡çŒ®"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{className:"bg-white/20 rounded-xl p-4",children:[s.jsxs("p",{className:"text-3xl font-bold",children:[S.ecoFacts.waterSaved,"L"]}),s.jsx("p",{className:"text-sm text-heritage-100",children:"èŠ‚çº¦ç”¨æ°´"}),s.jsx("p",{className:"text-xs mt-1",children:"æ¯kgå¸ƒæ–™"})]}),s.jsxs("div",{className:"bg-white/20 rounded-xl p-4",children:[s.jsx("p",{className:"text-3xl font-bold",children:"80%"}),s.jsx("p",{className:"text-sm text-heritage-100",children:"å‡å°‘ç¢³æ’æ”¾"}),s.jsx("p",{className:"text-xs mt-1",children:"ç›¸æ¯”åŒ–å­¦æŸ“æ–™"})]}),s.jsxs("div",{className:"bg-white/20 rounded-xl p-4",children:[s.jsxs("p",{className:"text-3xl font-bold",children:[S.carbonSaving,"g"]}),s.jsx("p",{className:"text-sm text-heritage-100",children:"æœ¬æ¬¡ä½“éªŒå‡ç¢³"}),s.jsx("p",{className:"text-xs mt-1",children:"äº‘æ¸¸ä»£æ›¿å®åœ°"})]})]})]}),s.jsx(b,{children:O&&s.jsxs(N.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-primary-50 border border-primary-200 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u,{className:"w-5 h-5 text-primary-600"}),s.jsx("h3",{className:"font-bold text-primary-800",children:"èœ¡æŸ“ç”Ÿæ€æ™ºæ…§"})]}),s.jsx("button",{onClick:()=>T(!1),className:"text-primary-400 hover:text-primary-600",children:s.jsx(f,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mt-4 grid md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(d,{className:"w-5 h-5 text-primary-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-primary-700",children:"èŠ‚æ°´ç¯ä¿"}),s.jsx("p",{className:"text-primary-600",children:"å¤©ç„¶æŸ“æ–™ç”¨æ°´é‡ä»…ä¸ºåŒ–å­¦æŸ“æ–™çš„20%"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(m,{className:"w-5 h-5 text-primary-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-primary-700",children:"é›¶æ±¡æŸ“"}),s.jsx("p",{className:"text-primary-600",children:"æŸ“æ–™åºŸæ°´å¯ç›´æ¥ç”¨äºçŒæº‰ï¼Œæ— æ¯’æ— å®³"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(x,{className:"w-5 h-5 text-primary-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-primary-700",children:"å¾ªç¯åˆ©ç”¨"}),s.jsx("p",{className:"text-primary-600",children:"æŸ“æ–™æ¤ç‰©æ®‹æ¸£å¯å †è‚¥ï¼Œå®ç°é›¶åºŸå¼ƒ"})]})]})]})]})}),!U&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur rounded-full px-6 py-3 shadow-lg",children:s.jsxs("p",{className:"text-sm text-ink-600",children:["ä½“éªŒæ—¶é—´: ",s.jsxs("span",{className:"font-bold text-heritage-600",children:[E,"ç§’"]}),E<60&&" / 60ç§’å®Œæˆä½“éªŒ"]})})]}),s.jsx(b,{children:L&&s.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>$(!1),children:s.jsx(N.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-heritage-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(v,{className:"w-10 h-10 text-heritage-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-ink-800 mb-2",children:"ğŸ¨ èœ¡æŸ“ä½“éªŒå®Œæˆï¼"}),s.jsx("p",{className:"text-ink-600 mb-6",children:"ä½ å·²äº†è§£å¤©ç„¶æŸ“æ–™çš„ç”Ÿæ€æ™ºæ…§ï¼Œæ„Ÿå—ä¼ ç»Ÿå·¥è‰ºçš„ç¯ä¿é­…åŠ›"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-eco-50 rounded-xl p-4",children:[s.jsx(m,{className:"w-6 h-6 text-eco-600 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold text-eco-700",children:"+50"}),s.jsx("p",{className:"text-sm text-ink-500",children:"ç»¿è‰²ç§¯åˆ†"})]}),s.jsxs("div",{className:"bg-carbon-50 rounded-xl p-4",children:[s.jsx(h,{className:"w-6 h-6 text-carbon-600 mx-auto mb-2"}),s.jsxs("p",{className:"text-2xl font-bold text-carbon-700",children:[S.carbonSaving,"g"]}),s.jsx("p",{className:"text-sm text-ink-500",children:"ç¢³å‡æ’"})]})]}),s.jsx("div",{className:"bg-primary-50 rounded-xl p-4 mb-6 text-left",children:s.jsxs("p",{className:"text-sm text-primary-700",children:[s.jsx("span",{className:"font-bold",children:"ğŸŒ¿ ä½ çŸ¥é“å—ï¼Ÿ"}),s.jsx("br",{}),"ä½¿ç”¨å¤©ç„¶é›è“æŸ“æ–™æ¯”åŒ–å­¦æŸ“æ–™å‡å°‘80%çš„ç¢³æ’æ”¾ï¼Œä¸”æŸ“æ–™åºŸæ°´å¯ç›´æ¥ç”¨äºçŒæº‰ï¼"]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(c,{onClick:()=>$(!1),variant:"outline",className:"flex-1",children:"ç»§ç»­æ¢ç´¢"}),s.jsxs(c,{onClick:()=>{$(!1),H(!0)},className:"flex-1 bg-heritage-500 hover:bg-heritage-600",children:[s.jsx(w,{className:"w-4 h-4 mr-2"}),"åˆ†äº«æˆæœ"]})]})]})})})}),s.jsx(b,{children:G&&s.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>H(!1),children:s.jsxs(N.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-ink-800",children:"åˆ†äº«ä½ çš„ç”Ÿæ€æˆæœ"}),s.jsx("button",{onClick:()=>H(!1),className:"text-ink-400 hover:text-ink-600",children:s.jsx(f,{className:"w-5 h-5"})})]}),s.jsx(a,{customMessage:"ğŸ¨ æˆ‘åœ¨ä¹¡é—è¯†å®Œæˆäº†èœ¡æŸ“å¤©ç„¶æŸ“æ–™ä½“éªŒï¼Œäº†è§£äº†ä¼ ç»ŸæŸ“è‰²å·¥è‰ºçš„ç”Ÿæ€æ™ºæ…§ï¼",onShare:()=>H(!1)})]})})})]})}export{I as default};
