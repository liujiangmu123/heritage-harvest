import{r as e,j as s}from"./three-vendor-BoyHWg1a.js";import{B as a}from"./index-DkRoqGlp.js";import{B as i}from"./Badge-DTmqmyMd.js";import{C as l,a as t}from"./Card-A_2Ty7OA.js";import{f as r,b as n,c,h as d}from"./mockData-DCdIpQra.js";import{a as m}from"./index-BE9RTL0L.js";import{m as x,Z as o,r as h,g as j,E as p,a6 as g,q as v,a7 as N}from"./ui-vendor-BCOa7pYq.js";import"./core-vendor-Csnc5NqJ.js";import"./ecoAchievementStore-30xRUVWQ.js";function f(){const[f,b]=e.useState("fragments"),{isAuthenticated:u}=m(),y=[{id:"fragments",label:"尘光碎片",icon:j,count:r.length},{id:"badges",label:"传世徽章",icon:p,count:n.length},{id:"nfts",label:"数字藏品",icon:g,count:c.length}];return s.jsxs("div",{className:"min-h-screen pt-20",children:[s.jsxs("section",{className:"relative py-20 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-ink-900 via-primary-900 to-heritage-900"}),s.jsx("div",{className:"absolute inset-0 pattern-overlay opacity-10"}),s.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsxs(i,{variant:"heritage",className:"mb-6",children:[s.jsx(o,{className:"w-4 h-4 mr-2"}),"ERC-4337 无感钱包"]}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-white mb-6",children:"数字藏品馆"}),s.jsx("p",{className:"text-xl text-white/80 max-w-2xl mx-auto mb-8",children:"收集非遗文化碎片，解锁传世徽章，获得专属权益。 每一件藏品都是文化传承的数字见证。"}),!u&&s.jsxs(a,{variant:"heritage",size:"lg",children:["连接钱包开始收集",s.jsx(h,{className:"w-5 h-5 ml-2"})]})]})})]}),s.jsx("div",{className:"sticky top-16 z-40 bg-white border-b border-ink-100",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex gap-8",children:y.map(e=>s.jsxs("button",{onClick:()=>b(e.id),className:"flex items-center gap-2 py-4 border-b-2 transition-colors "+(f===e.id?"border-heritage-500 text-heritage-600":"border-transparent text-ink-500 hover:text-ink-700"),children:[s.jsx(e.icon,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:e.label}),s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-ink-100 text-xs",children:e.count})]},e.id))})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:["fragments"===f&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-ink-900 mb-2",children:"尘光碎片"}),s.jsx("p",{className:"text-ink-500",children:"通过购买产品、参与活动获取碎片，集齐可合成传世徽章"})]}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((e,a)=>s.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},children:s.jsxs(l,{className:"overflow-hidden "+(e.collected?"":"opacity-60"),children:[s.jsxs("div",{className:"relative h-48",children:[s.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}),!e.collected&&s.jsx("div",{className:"absolute inset-0 bg-ink-900/60 flex items-center justify-center",children:s.jsx(v,{className:"w-10 h-10 text-white/60"})}),e.collected&&s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx(i,{variant:"success",children:"已收集"})})]}),s.jsxs(t,{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-ink-900 mb-1",children:e.name}),s.jsx("p",{className:"text-sm text-ink-500 line-clamp-2",children:e.description})]})]})},e.id))})]}),"badges"===f&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-ink-900 mb-2",children:"传世徽章"}),s.jsx("p",{className:"text-ink-500",children:"集齐对应碎片可合成徽章，解锁专属权益"})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:n.map((e,a)=>{d.find(s=>s.id===e.heritageId);const t=e.requiredFragments.filter(e=>{var s;return null==(s=r.find(s=>s.id===e))?void 0:s.collected}).length;return s.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},children:s.jsx(l,{variant:"nft",className:"p-6",children:s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"relative w-24 h-24 rounded-xl overflow-hidden flex-shrink-0",children:[s.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}),!e.unlocked&&s.jsx("div",{className:"absolute inset-0 bg-ink-900/60 flex items-center justify-center",children:s.jsx(v,{className:"w-8 h-8 text-white/60"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-ink-900",children:e.name}),e.unlocked&&s.jsx(i,{variant:"success",children:"已解锁"})]}),s.jsx("p",{className:"text-sm text-ink-500 mb-3",children:e.description}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"flex-1 h-2 bg-ink-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-heritage-500 to-primary-500",style:{width:t/e.requiredFragments.length*100+"%"}})}),s.jsxs("span",{className:"text-sm text-ink-500",children:[t,"/",e.requiredFragments.length]})]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:e.privileges.map((e,a)=>s.jsx(i,{variant:"outline",size:"sm",children:e},a))})]})]})})},e.id)})})]}),"nfts"===f&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-ink-900 mb-2",children:"数字藏品"}),s.jsx("p",{className:"text-ink-500",children:"限量发行的非遗数字艺术品，永久保存在区块链上"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map((e,r)=>s.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},children:s.jsxs(l,{variant:"nft",className:"overflow-hidden group",children:[s.jsxs("div",{className:"relative h-64",children:[s.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx(i,{variant:"legendary"===e.rarity?"legendary":"epic",children:"legendary"===e.rarity?"传说":"史诗"})}),s.jsxs("div",{className:"absolute bottom-0 inset-x-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:[s.jsx("p",{className:"text-white/80 text-sm",children:e.series}),s.jsx("h3",{className:"text-white font-bold text-lg",children:e.name})]})]}),s.jsxs(t,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-ink-500 mb-3 line-clamp-2",children:e.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-ink-400",children:"剩余"}),s.jsxs("span",{className:"font-bold text-primary-600 ml-1",children:[e.totalSupply-e.currentSupply,"/",e.totalSupply]})]}),s.jsxs(a,{variant:"heritage",size:"sm",children:[s.jsx(N,{className:"w-4 h-4 mr-1"}),"铸造"]})]})]})]})},e.id))})]})]})]})}export{f as default};
