import{r as e,j as a}from"./three-vendor-BoyHWg1a.js";import{C as s,a as t}from"./Card-CzLHjEZJ.js";import{B as i}from"./Badge-CFxPFb1t.js";import{u as r,a as l,E as n,B as c}from"./index-D20SIRsj.js";import{u as m}from"./ecoAchievementStore-C9SOCyzU.js";import{ar as d,g as o,aQ as x,a6 as h,m as u,af as g,a8 as j,A as p,X as v,aR as b,u as N,D as y}from"./ui-vendor-BCOa7pYq.js";import"./core-vendor-Csnc5NqJ.js";const f={common:{name:"æ™®é€š",color:"text-gray-600",bgColor:"bg-gray-100",icon:h},rare:{name:"ç¨€æœ‰",color:"text-blue-600",bgColor:"bg-blue-100",icon:x},epic:{name:"å²è¯—",color:"text-purple-600",bgColor:"bg-purple-100",icon:o},legendary:{name:"ä¼ è¯´",color:"text-amber-600",bgColor:"bg-amber-100",icon:d}},k=[{id:"carbon-1kg",name:"ç¢³å‡æ’æ–°æ‰‹",description:"ç´¯è®¡ç¢³å‡æ’è¾¾åˆ°1kgï¼Œè¿ˆå‡ºç»¿è‰²ç”Ÿæ´»ç¬¬ä¸€æ­¥",image:"ğŸŒ±",rarity:"common",category:"milestone",requirement:"ç´¯è®¡ç¢³å‡æ’ â‰¥ 1kg",holders:1234,attributes:[{name:"ç¢³å‡æ’",value:"1kg"},{name:"ç­‰æ•ˆç§æ ‘",value:"0.05æ£µ"}]},{id:"carbon-10kg",name:"ç¢³å‡æ’è¾¾äºº",description:"ç´¯è®¡ç¢³å‡æ’è¾¾åˆ°10kgï¼Œæˆä¸ºç»¿è‰²ç”Ÿæ´»è·µè¡Œè€…",image:"ğŸŒ¿",rarity:"rare",category:"milestone",requirement:"ç´¯è®¡ç¢³å‡æ’ â‰¥ 10kg",holders:456,attributes:[{name:"ç¢³å‡æ’",value:"10kg"},{name:"ç­‰æ•ˆç§æ ‘",value:"0.5æ£µ"}]},{id:"carbon-100kg",name:"ç¢³ä¸­å’Œå…ˆé”‹",description:"ç´¯è®¡ç¢³å‡æ’è¾¾åˆ°100kgï¼Œæˆä¸ºç¢³ä¸­å’Œå…ˆé”‹",image:"ğŸŒ³",rarity:"epic",category:"milestone",requirement:"ç´¯è®¡ç¢³å‡æ’ â‰¥ 100kg",holders:89,attributes:[{name:"ç¢³å‡æ’",value:"100kg"},{name:"ç­‰æ•ˆç§æ ‘",value:"5æ£µ"}]},{id:"eco-master",name:"ç”Ÿæ€æ™ºæ…§å¤§å¸ˆ",description:"å®Œæˆæ‰€æœ‰ç”Ÿæ€å­¦ä¹ è·¯å¾„ï¼ŒæŒæ¡å®Œæ•´çš„ç¯ä¿çŸ¥è¯†ä½“ç³»",image:"ğŸ†",rarity:"legendary",category:"achievement",requirement:"å®Œæˆå…¨éƒ¨å­¦ä¹ è·¯å¾„",holders:23,maxSupply:100,attributes:[{name:"å­¦ä¹ æ¨¡å—",value:"4/4"},{name:"çŸ¥è¯†æŒæ¡",value:"100%"}]},{id:"spring-equinox",name:"æ˜¥åˆ†å®ˆæŠ¤è€…",description:"å‚ä¸æ˜¥åˆ†èŠ‚æ°”æ´»åŠ¨ï¼Œæ„Ÿå—æ˜¼å¤œå¹³åˆ†çš„è‡ªç„¶å¹³è¡¡",image:"ğŸŒ¸",rarity:"rare",category:"seasonal",requirement:"å‚ä¸æ˜¥åˆ†èŠ‚æ°”æ´»åŠ¨",holders:567,attributes:[{name:"èŠ‚æ°”",value:"æ˜¥åˆ†"},{name:"å­£èŠ‚",value:"æ˜¥"}]},{id:"summer-solstice",name:"å¤è‡³å…ˆé”‹",description:"å‚ä¸å¤è‡³èŠ‚æ°”æ´»åŠ¨ï¼Œä½“éªŒä¸€å¹´ä¸­æœ€é•¿çš„ç™½æ˜¼",image:"â˜€ï¸",rarity:"rare",category:"seasonal",requirement:"å‚ä¸å¤è‡³èŠ‚æ°”æ´»åŠ¨",holders:432,attributes:[{name:"èŠ‚æ°”",value:"å¤è‡³"},{name:"å­£èŠ‚",value:"å¤"}]},{id:"autumn-equinox",name:"ç§‹åˆ†å®ˆæŠ¤è€…",description:"å‚ä¸ç§‹åˆ†èŠ‚æ°”æ´»åŠ¨ï¼Œæ„Ÿå—ä¸°æ”¶çš„å–œæ‚¦",image:"ğŸ‚",rarity:"rare",category:"seasonal",requirement:"å‚ä¸ç§‹åˆ†èŠ‚æ°”æ´»åŠ¨",holders:389,attributes:[{name:"èŠ‚æ°”",value:"ç§‹åˆ†"},{name:"å­£èŠ‚",value:"ç§‹"}]},{id:"winter-solstice",name:"å†¬è‡³å…ˆé”‹",description:"å‚ä¸å†¬è‡³èŠ‚æ°”æ´»åŠ¨ï¼Œä½“éªŒä¸€å¹´ä¸­æœ€é•¿çš„å¤œæ™š",image:"â„ï¸",rarity:"rare",category:"seasonal",requirement:"å‚ä¸å†¬è‡³èŠ‚æ°”æ´»åŠ¨",holders:298,attributes:[{name:"èŠ‚æ°”",value:"å†¬è‡³"},{name:"å­£èŠ‚",value:"å†¬"}]},{id:"all-experiences",name:"éé—æ¢ç´¢è€…",description:"å®Œæˆæ‰€æœ‰éé—ä½“éªŒï¼Œæˆä¸ºä¼ ç»Ÿæ–‡åŒ–çš„å®ˆæŠ¤è€…",image:"ğŸ­",rarity:"epic",category:"achievement",requirement:"å®Œæˆå…¨éƒ¨éé—ä½“éªŒ",holders:156,attributes:[{name:"ä½“éªŒæ•°é‡",value:"6/6"},{name:"æ–‡åŒ–ä¼ æ‰¿",value:"100%"}]},{id:"knowledge-explorer",name:"çŸ¥è¯†æ¢ç´¢è€…",description:"æ¢ç´¢50%ä»¥ä¸Šçš„ç”Ÿæ€çŸ¥è¯†å›¾è°±èŠ‚ç‚¹",image:"ğŸ”",rarity:"rare",category:"achievement",requirement:"çŸ¥è¯†å›¾è°±æ¢ç´¢ â‰¥ 50%",holders:234,attributes:[{name:"æ¢ç´¢è¿›åº¦",value:"50%+"},{name:"çŸ¥è¯†èŠ‚ç‚¹",value:"10+"}]},{id:"founding-member",name:"åˆ›å§‹æˆå‘˜",description:"å¹³å°æ—©æœŸç”¨æˆ·ä¸“å±çºªå¿µè—å“",image:"â­",rarity:"legendary",category:"special",requirement:"2024å¹´å‰æ³¨å†Œçš„ç”¨æˆ·",holders:50,maxSupply:100,attributes:[{name:"æ³¨å†Œæ—¶é—´",value:"2024å¹´å‰"},{name:"é™é‡ç¼–å·",value:"#001-100"}]}];function w({className:d=""}){const[x,h]=e.useState(null),[w,C]=e.useState(new Set),[q,S]=e.useState("all"),[$,A]=e.useState(!1),{totalPoints:M,currentLevel:z}=r(),{totalCarbonSaved:B}=l(),{getCompletionPercentage:F}=m(),T=n[z],P=F(),D=e=>{if(w.has(e.id))return!1;switch(e.id){case"carbon-1kg":return B>=1e3;case"carbon-10kg":return B>=1e4;case"carbon-100kg":return B>=1e5;case"eco-master":return P>=100;case"knowledge-explorer":return P>=50;default:return M>=100}},E=e.useMemo(()=>"all"===q?k:"minted"===q?k.filter(e=>w.has(e.id)):k.filter(e=>e.category===q),[q,w]),L=e.useMemo(()=>({total:k.length,minted:w.size,canMint:k.filter(e=>D(e)&&!w.has(e.id)).length}),[w,B,P,M]);return a.jsxs("div",{className:`${d}`,children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-ink-900",children:"ç”Ÿæ€NFTè—å“"}),a.jsx("p",{className:"text-ink-500",children:"æ”¶é›†ç¯ä¿é‡Œç¨‹ç¢‘ï¼Œæ°¸ä¹…è®°å½•ä½ çš„ç»¿è‰²è´¡çŒ®"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(i,{variant:"eco",children:["å·²æ”¶é›† ",L.minted,"/",L.total]}),L.canMint>0&&a.jsxs(i,{variant:"heritage",className:"animate-pulse",children:[L.canMint," ä¸ªå¯é“¸é€ "]})]})]}),a.jsx(s,{className:"p-4 bg-gradient-to-r from-eco-50 to-bamboo-50 border-eco-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"text-4xl",children:T.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-eco-800",children:T.name}),a.jsxs("div",{className:"text-sm text-eco-600",children:[M," ç»¿è‰²ç§¯åˆ†"]})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xl font-bold text-eco-700",children:B>=1e3?`${(B/1e3).toFixed(1)}kg`:`${B}g`}),a.jsx("div",{className:"text-xs text-eco-500",children:"ç¢³å‡æ’"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-xl font-bold text-eco-700",children:[P,"%"]}),a.jsx("div",{className:"text-xs text-eco-500",children:"æˆå°±è¿›åº¦"})]})]})]})})]}),a.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[{key:"all",name:"å…¨éƒ¨"},{key:"minted",name:"å·²æ”¶é›†"},{key:"milestone",name:"é‡Œç¨‹ç¢‘"},{key:"seasonal",name:"èŠ‚æ°”é™å®š"},{key:"achievement",name:"æˆå°±"},{key:"special",name:"ç‰¹æ®Š"}].map(e=>a.jsx(c,{variant:q===e.key?"eco":"outline",size:"sm",onClick:()=>S(e.key),children:e.name},e.key))}),a.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:E.map((e,r)=>{const l=w.has(e.id),n=D(e),c=f[e.rarity];return a.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*r},children:a.jsx(s,{className:`cursor-pointer transition-all hover:shadow-lg ${l?"ring-2 ring-eco-500 ring-offset-2":""} ${n||l?"":"opacity-60"}`,onClick:()=>h(e),children:a.jsxs(t,{className:"p-4",children:[a.jsxs("div",{className:`relative aspect-square rounded-xl ${c.bgColor} flex items-center justify-center mb-4 overflow-hidden`,children:[a.jsx("span",{className:"text-6xl",children:e.image}),a.jsx("div",{className:`absolute top-2 right-2 px-2 py-1 rounded-full text-xs font-medium ${c.bgColor} ${c.color}`,children:c.name}),l&&a.jsx("div",{className:"absolute inset-0 bg-eco-500/20 flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 bg-eco-500 rounded-full flex items-center justify-center",children:a.jsx(g,{className:"w-6 h-6 text-white"})})}),n&&!l&&a.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:a.jsx(i,{variant:"eco",className:"w-full justify-center",children:"å¯é“¸é€ "})})]}),a.jsx("h3",{className:"font-bold text-ink-900 mb-1",children:e.name}),a.jsx("p",{className:"text-sm text-ink-500 line-clamp-2 mb-3",children:e.description}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1 text-ink-400",children:[a.jsx(j,{className:"w-4 h-4"}),a.jsxs("span",{children:[e.holders," äººæŒæœ‰"]})]}),e.maxSupply&&a.jsxs("span",{className:"text-amber-600",children:["é™é‡ ",e.maxSupply]})]})]})})},e.id)})}),a.jsx(p,{children:x&&a.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>h(null),children:a.jsxs(u.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[a.jsxs("div",{className:`p-8 ${f[x.rarity].bgColor} rounded-t-2xl relative`,children:[a.jsx("button",{onClick:()=>h(null),className:"absolute top-4 right-4 w-8 h-8 bg-white/50 rounded-full flex items-center justify-center hover:bg-white/80",children:a.jsx(v,{className:"w-5 h-5 text-ink-600"})}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-8xl",children:x.image})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(i,{className:`${f[x.rarity].bgColor} ${f[x.rarity].color}`,children:f[x.rarity].name}),x.maxSupply&&a.jsxs(i,{variant:"outline",children:["é™é‡ ",x.maxSupply]})]}),a.jsx("h3",{className:"text-2xl font-bold text-ink-900 mb-2",children:x.name}),a.jsx("p",{className:"text-ink-600 mb-4",children:x.description}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl mb-4",children:[a.jsx("div",{className:"text-sm text-ink-500 mb-1",children:"è·å–æ¡ä»¶"}),a.jsx("div",{className:"font-medium text-ink-900",children:x.requirement})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm font-medium text-ink-700 mb-2",children:"å±æ€§"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:x.attributes.map((e,s)=>a.jsxs("div",{className:"p-3 bg-eco-50 rounded-lg",children:[a.jsx("div",{className:"text-xs text-eco-600",children:e.name}),a.jsx("div",{className:"font-bold text-eco-800",children:e.value})]},s))})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-ink-500 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(j,{className:"w-4 h-4"}),a.jsxs("span",{children:[x.holders," äººæŒæœ‰"]})]}),x.mintedAt&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(b,{className:"w-4 h-4"}),a.jsxs("span",{children:["é“¸é€ äº ",x.mintedAt]})]})]}),w.has(x.id)?a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(c,{variant:"outline",className:"flex-1",children:[a.jsx(N,{className:"w-4 h-4 mr-2"}),"åˆ†äº«"]}),a.jsxs(c,{variant:"outline",className:"flex-1",children:[a.jsx(y,{className:"w-4 h-4 mr-2"}),"ä¸‹è½½"]})]}):D(x)?a.jsxs(c,{variant:"eco",className:"w-full",onClick:()=>{var e;D(e=x)&&(C(a=>new Set([...a,e.id])),A(!0),setTimeout(()=>{A(!1),h(null)},2e3))},children:[a.jsx(o,{className:"w-5 h-5 mr-2"}),"é“¸é€ NFT"]}):a.jsxs("div",{className:"p-4 bg-gray-100 rounded-xl text-center",children:[a.jsx("p",{className:"text-ink-500",children:"æš‚æœªè¾¾åˆ°é“¸é€ æ¡ä»¶"}),a.jsx("p",{className:"text-sm text-ink-400 mt-1",children:x.requirement})]})]})]})})}),a.jsx(p,{children:$&&a.jsx(u.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"fixed inset-0 bg-black/70 z-[60] flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center max-w-sm",children:[a.jsx(u.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"w-20 h-20 bg-eco-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(o,{className:"w-10 h-10 text-eco-600"})}),a.jsx("h3",{className:"text-2xl font-bold text-ink-900 mb-2",children:"é“¸é€ æˆåŠŸï¼"}),a.jsx("p",{className:"text-ink-500",children:"NFTå·²æ·»åŠ åˆ°ä½ çš„æ”¶è—"})]})})})]})}export{w as default};
