import{r as e,j as t}from"./three-vendor-BoyHWg1a.js";import{u as s,b as a,g as l,c as i,E as n,P as r}from"./index-BZ3c0gis.js";import{aq as o,m as c,a1 as d,L as x,A as m,X as p,u}from"./ui-vendor-BCOa7pYq.js";import"./core-vendor-Csnc5NqJ.js";const h={reduce_plastic:{name:"ÂáèÂ°ëË°åÂä®",icon:"üéã",color:"bg-bamboo-100 text-bamboo-700"},save_energy:{name:"ËäÇËÉΩÂáèÊéí",icon:"üí°",color:"bg-eco-100 text-eco-700"},green_travel:{name:"ÁªøËâ≤Âá∫Ë°å",icon:"üö≤",color:"bg-carbon-100 text-carbon-700"},support_heritage:{name:"‰º†ÊâøÈùûÈÅó",icon:"üè∫",color:"bg-heritage-100 text-heritage-700"}},g=[{id:"1",polaroidImage:"",ecoMessage:"üå± ‰ªäÂ§©ÁöÑ‰∫ëÊ∏∏ÔºåÊòØÊòéÂ§©ÁöÑÁªøËç´",pledgeContent:"ÊàëÊâøËØ∫ÊØèÂë®ÂáèÂ∞ë‰ΩøÁî®5‰∏™Â°ëÊñôË¢ãÔºåÁî®Á´πÁºñË¥≠Áâ©Ë¢ãÊõø‰ª£",userName:"ÁîüÊÄÅÂÆàÊä§ËÄÖ",userAvatar:"",userEcoLevel:"guardian",carbonSaved:2500,createdAt:"2024-12-15T10:30:00Z",supportCount:42,category:"reduce_plastic",fulfilled:!1},{id:"2",polaroidImage:"",ecoMessage:"üåø ÊØè‰∏ÄÊ¨°Êï∞Â≠óÊóÖË°åÔºåÈÉΩÊòØÂØπÂú∞ÁêÉÁöÑÊ∏©Êüî",pledgeContent:"ÊàëÊâøËØ∫ÊØèÊúàËá≥Â∞ëÂèÇ‰∏é‰∏ÄÊ¨°‰∫ëÊ∏∏‰ΩìÈ™åÔºåÂáèÂ∞ëÂÆûÂú∞ÊóÖÊ∏∏Á¢≥ÊéíÊîæ",userName:"ÁªøËâ≤‰ΩøËÄÖ",userAvatar:"",userEcoLevel:"sprout",carbonSaved:1800,createdAt:"2024-12-14T15:20:00Z",supportCount:28,category:"green_travel",fulfilled:!0,fulfilledAt:"2024-12-18T09:00:00Z"},{id:"3",polaroidImage:"",ecoMessage:"üå≥ ‰ΩéÁ¢≥Âá∫Ë°åÔºåËÆ©ÁæéÊôØÊ∞∏Â≠ò",pledgeContent:"ÊàëÊâøËØ∫Â≠¶‰π†Âπ∂‰º†Êâø‰∏ÄÈ°π‰º†ÁªüÊâãÂ∑•Ëâ∫ÔºåËÆ©ÈùûÈÅóÊô∫ÊÖßÂª∂Áª≠",userName:"ÊñáÂåñ‰º†Êâø‰∫∫",userAvatar:"",userEcoLevel:"master",carbonSaved:3200,createdAt:"2024-12-13T08:45:00Z",supportCount:56,category:"support_heritage",fulfilled:!1}];function b(){const[p,u]=e.useState(g),[b,f]=e.useState("all"),[N,k]=e.useState(!1),[y,w]=e.useState(null),{currentLevel:C}=s(),E="all"===b?p:p.filter(e=>e.category===b),S=e.useCallback(e=>{u(t=>t.map(t=>t.id===e?{...t,supportCount:t.supportCount+1}:t)),a("ÊîØÊåÅ‰ªñ‰∫∫ÊâøËØ∫",r.pledge_support)},[]),A=e.useCallback((e,t)=>{const s={id:l(),polaroidImage:"",ecoMessage:"üå± ÊàëÁöÑÁîüÊÄÅÊâøËØ∫",pledgeContent:e,userName:"Êàë",userAvatar:"",userEcoLevel:C,carbonSaved:0,createdAt:(new Date).toISOString(),supportCount:0,category:t,fulfilled:!1};u(e=>[s,...e]),a("ÂèëÂ∏ÉÁîüÊÄÅÊâøËØ∫",r.pledge_create),k(!1)},[C]);return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-eco-50 to-bamboo-50",children:[t.jsx("div",{className:"fixed inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}}),t.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 py-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-ink-800 mb-2",children:"üåø ÁîüÊÄÅÊâøËØ∫Â¢ô"}),t.jsx("p",{className:"text-ink-600",children:"ËÆ∞ÂΩï‰Ω†ÁöÑÁªøËâ≤ÊâøËØ∫Ôºå‰∏éÂ§ßÂÆ∂‰∏ÄËµ∑ÂÆàÊä§Âú∞ÁêÉ"})]}),t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-8",children:[t.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[t.jsx("button",{onClick:()=>f("all"),className:i("px-4 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap","all"===b?"bg-eco-500 text-white":"bg-white text-ink-600 hover:bg-ink-50"),children:"ÂÖ®ÈÉ®"}),Object.entries(h).map(([e,s])=>t.jsxs("button",{onClick:()=>f(e),className:i("px-4 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap flex items-center gap-1",b===e?"bg-eco-500 text-white":"bg-white text-ink-600 hover:bg-ink-50"),children:[t.jsx("span",{children:s.icon}),s.name]},e))]}),t.jsxs("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-heritage-500 hover:bg-heritage-600 text-white rounded-full font-medium flex items-center gap-2 transition-colors",children:[t.jsx(o,{className:"w-5 h-5"}),"ÂèëÂ∏ÉÊâøËØ∫"]})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map((e,s)=>t.jsx(c.div,{initial:{opacity:0,y:20,rotate:6*Math.random()-3},animate:{opacity:1,y:0,rotate:6*Math.random()-3},transition:{delay:.1*s},whileHover:{scale:1.02,rotate:0},onClick:()=>w(e),className:"cursor-pointer",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 relative",children:[t.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-4 h-4 rounded-full bg-heritage-500 shadow-md"}),t.jsx("div",{className:"aspect-square bg-gradient-to-br from-eco-100 to-bamboo-100 rounded-lg mb-3 flex items-center justify-center",children:e.polaroidImage?t.jsx("img",{src:e.polaroidImage,alt:"",className:"w-full h-full object-cover rounded-lg"}):t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:"text-4xl",children:h[e.category].icon}),t.jsx("p",{className:"text-sm text-ink-400 mt-2",children:e.ecoMessage})]})}),t.jsx("p",{className:"text-sm text-ink-700 mb-3 line-clamp-2",children:e.pledgeContent}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-eco-100 flex items-center justify-center",children:t.jsx("span",{children:n[e.userEcoLevel].icon})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium text-ink-700",children:e.userName}),t.jsx("p",{className:"text-xs text-ink-400",children:n[e.userEcoLevel].name})]})]}),t.jsxs("button",{onClick:t=>{t.stopPropagation(),S(e.id)},className:"flex items-center gap-1 px-2 py-1 bg-heritage-50 hover:bg-heritage-100 rounded-full transition-colors",children:[t.jsx(d,{className:"w-4 h-4 text-heritage-500"}),t.jsx("span",{className:"text-xs text-heritage-600",children:e.supportCount})]})]}),e.fulfilled&&t.jsx("div",{className:"absolute top-4 right-4 px-2 py-1 bg-eco-500 text-white text-xs rounded-full",children:"Â∑≤Ë∑µË°å"})]})},e.id))}),0===E.length&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(x,{className:"w-12 h-12 text-ink-300 mx-auto mb-4"}),t.jsx("p",{className:"text-ink-500",children:"ÊöÇÊó†ÊâøËØ∫ÔºåÊàê‰∏∫Á¨¨‰∏Ä‰∏™ÂèëÂ∏ÉËÄÖÂêßÔºÅ"})]})]}),t.jsx(m,{children:N&&t.jsx(j,{onClose:()=>k(!1),onCreate:A})}),t.jsx(m,{children:y&&t.jsx(v,{pledge:y,onClose:()=>w(null),onSupport:()=>S(y.id)})})]})}function j({onClose:s,onCreate:a}){const[l,n]=e.useState(""),[o,d]=e.useState("reduce_plastic");return t.jsx(c.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:s,children:t.jsxs(c.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-lg font-bold text-ink-800",children:"ÂèëÂ∏ÉÁîüÊÄÅÊâøËØ∫"}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-ink-100 rounded-full",children:t.jsx(p,{className:"w-5 h-5 text-ink-500"})})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"text-sm text-ink-600 mb-2 block",children:"ÊâøËØ∫Á±ªÂà´"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(h).map(([e,s])=>t.jsxs("button",{onClick:()=>d(e),className:i("p-3 rounded-xl border-2 transition-all text-left",o===e?"border-eco-500 bg-eco-50":"border-ink-200 hover:border-ink-300"),children:[t.jsx("span",{className:"text-xl",children:s.icon}),t.jsx("p",{className:"text-sm font-medium text-ink-700 mt-1",children:s.name})]},e))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"text-sm text-ink-600 mb-2 block",children:"ÊâøËØ∫ÂÜÖÂÆπ"}),t.jsx("textarea",{value:l,onChange:e=>n(e.target.value),placeholder:"ÊàëÊâøËØ∫...",className:"w-full h-32 p-3 border border-ink-200 rounded-xl resize-none focus:outline-none focus:border-eco-500"})]}),t.jsx("button",{onClick:()=>l.trim()&&a(l,o),disabled:!l.trim(),className:"w-full py-3 bg-eco-500 hover:bg-eco-600 text-white rounded-xl font-medium transition-colors disabled:opacity-50",children:"ÂèëÂ∏ÉÊâøËØ∫"}),t.jsxs("p",{className:"text-xs text-ink-400 text-center mt-3",children:["ÂèëÂ∏ÉÊâøËØ∫ÂèØËé∑Âæó ",r.pledge_create," ÁªøËâ≤ÁßØÂàÜ"]})]})})}function v({pledge:e,onClose:s,onSupport:a}){const l=h[e.category];return t.jsx(c.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:s,children:t.jsxs(c.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[t.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 hover:bg-ink-100 rounded-full",children:t.jsx(p,{className:"w-5 h-5 text-ink-500"})}),t.jsx("div",{className:"aspect-square bg-gradient-to-br from-eco-100 to-bamboo-100 rounded-xl mb-4 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:"text-6xl",children:l.icon}),t.jsx("p",{className:"text-ink-500 mt-4",children:e.ecoMessage})]})}),t.jsxs("div",{className:i("px-3 py-1 rounded-full text-xs inline-flex items-center gap-1 mb-3",l.color),children:[t.jsx("span",{children:l.icon}),l.name]}),t.jsx("p",{className:"text-ink-700 mb-4",children:e.pledgeContent}),t.jsxs("div",{className:"flex items-center justify-between py-4 border-t border-ink-100",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-eco-100 flex items-center justify-center",children:t.jsx("span",{className:"text-lg",children:n[e.userEcoLevel].icon})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-ink-700",children:e.userName}),t.jsx("p",{className:"text-xs text-ink-400",children:new Date(e.createdAt).toLocaleDateString("zh-CN")})]})]}),e.fulfilled&&t.jsx("span",{className:"px-3 py-1 bg-eco-100 text-eco-700 text-sm rounded-full",children:"‚úì Â∑≤Ë∑µË°å"})]}),t.jsxs("div",{className:"flex gap-3 mt-4",children:[t.jsxs("button",{onClick:a,className:"flex-1 py-3 bg-heritage-500 hover:bg-heritage-600 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[t.jsx(d,{className:"w-5 h-5"}),"ÊîØÊåÅ (",e.supportCount,")"]}),t.jsx("button",{className:"py-3 px-4 bg-ink-100 hover:bg-ink-200 text-ink-700 rounded-xl transition-colors",children:t.jsx(u,{className:"w-5 h-5"})})]})]})})}export{b as default};
